#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” è¿è¡Œ pre-commit æ£€æŸ¥..."

# è¿è¡Œä»£ç æ ¼å¼åŒ–
echo "ğŸ“ æ ¼å¼åŒ–ä»£ç ..."
npm run format

# è¿è¡Œä»£ç æ£€æŸ¥
echo "ğŸ” è¿è¡Œ ESLint æ£€æŸ¥..."
npm run lint

# å¦‚æœæ£€æŸ¥å¤±è´¥ï¼Œé˜»æ­¢æäº¤
if [ $? -ne 0 ]; then
    echo "âŒ ä»£ç æ£€æŸ¥å¤±è´¥ï¼Œè¯·ä¿®å¤é”™è¯¯åé‡è¯•"
    exit 1
fi

echo "âœ… pre-commit æ£€æŸ¥é€šè¿‡"